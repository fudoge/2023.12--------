<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="title" content="[##_page_title_##] :: [##_title_##]">
    <link rel="stylesheet" href="./style.css">
    <link rel="alternate" type="application/rss+xml" title="[##_title_##]" href="[##_rss_url_##]" />
    <title>[##_page_title_##] :: [##_title_##]</title>
</head>

<body id="[##_body_id_##]">
    <script>
        // 카테고리일떄 다음을 실행
        function category_function() {
            category_emphasize_in_category();
        }

        // 게시글일때 다음을 실행
        function entry_function() {
            category_emphasize_in_article();
            generate_pageNav();
        }

        // 카테고리 탐색기에서 카테고리 강조
        function category_emphasize_in_category() {
            const curr_path = location.pathname;

            category_emphasize(curr_path);
        }

        // 게시글에서 카테고리 강조시키기
        function category_emphasize_in_article() {
            const category_anchor = document.getElementById("article-category").innerHTML
            const curr_path = category_anchor.substring(category_anchor.indexOf("/"), category_anchor.indexOf(">") - 1);

            category_emphasize(curr_path);
        }

        //게시글에서 자체 네비게이션 만들기
        function generate_pageNav() {
            //TODO: 페이지 내에서 프래그먼트로 이동하기 기능 구현
        }

        // 현재 path를 받아서 카테고리 탐색 후 강조 클래스 부여
        function category_emphasize(path) {
            const target_arr = decode(path);

            const listItems = document.getElementById('category-list').querySelectorAll("ul li a");
            for (const listItem of listItems) {
                const curr_category = listItem.innerHTML.substring(1, listItem.innerHTML.indexOf('<') - 1);
                if (target_arr.includes(curr_category)) {
                    listItem.classList.add("curr-category");
                }
            }
        }

        function decode(path) {
            target_arr = path.split('/').splice(2);
            target_arr.forEach((v, i, arr) => arr[i] = decodeURIComponent(arr[i]));
            return target_arr;
        }

        window.onload = function () {
            const curr_path = location.pathname;
            let firstPath = curr_path.split('/')[1];

            if (firstPath === 'category') {
                category_function();
            } else if (firstPath === 'entry') {
                entry_function();
            }
        }
    </script>
    <s_t3>
        <header>
            <div id="blog-main">
                <a href="[##_blog_link_##]">
                    <h1>[##_title_##]</h1>
                </a>
            </div>

            <!--TODO: 디렉토리 구현-->
            <div id="page-directory">
                <a href="[##_blog_link_##]">🏠</a>
            </div>

            <div id="menu-bar">
                <div class="search">
                    <s_search>
                        <input type="text" name="[##_search_name_##]" value="[##_search_text_##]"
                            onkeypress="if (event.keyCode == 13) { [##_search_onclick_submit_##] }" id="search-box" />
                        <input type="button" onclick="[##_search_onclick_submit_##]" class="submit" id="search-btn" />
                        <label class="search-btn" for="search-btn"><img src="images/search.svg" alt="검색버튼"></label>
                    </s_search>
                </div>

                <div class="bio">
                    <ul>
                        <li>
                            <a href="[##_taglog_link_##]"><img src="images/hashtag.svg" alt="해시태그"></a>
                        </li>
                        <li>
                            <a href="[##_guestbook_link_##]"><img src="images/note.svg" alt="방명록"></a>
                        </li>
                        <li>
                            <a href="https://github.com/fudoge" target="_blank"><img src="images/github.svg"
                                    alt="github"></a>
                        </li>
                        <li>
                            <a href="" target="_blank"><img src="images/blogger.svg" alt="blogger"></a>
                        </li>
                    </ul>
                </div>
        </header>

        <div id="left-sidebar">
            <s_sidebar>
                <s_sidebar_element>
                    <div id="blogger-profile">
                        <img src="[##_image_##]" alt="블로거사진">
                        <ul>
                            <li id="blogger-name">
                                [##_blogger_##]
                            </li>
                            <li id="blogger-desc">
                                [##_desc_##]
                            </li>
                        </ul>
                    </div>
                </s_sidebar_element>

                <s_sidebar_element>
                    <!--TODO: 현재 카테고리 강조 기능 구현-->
                    <div class="category" id="category-list">
                        [##_category_list_##]
                    </div>
                </s_sidebar_element>
            </s_sidebar>
        </div>

        <div id="content">
            <p>블로그 점검중 입니다. 양해 부탁드립니다!</p>
            <!--글-->
            <s_article_rep>
                <!--글 리스트-->
                <s_index_article_rep>
                    <div class="titleWrap">
                        <s_article_rep_thumbnail>
                            <div class="wrap-thumbnail">
                                <a href="[##_article_rep_link_##]">
                                    <img src="[##_article_rep_thumbnail_url_##]"
                                        alt="[##_article_rep_title_##] - thubnail">
                                </a>
                            </div>
                        </s_article_rep_thumbnail>
                        <h2><a href="[##_article_rep_link_##]">[##_article_rep_title_##]</a></h2>
                        <div class="wrap-summary">
                            <a href="[##_article_rep_link_##]">
                                [##_article_rep_summary_##]
                            </a>
                        </div>
                        <div class="wrap-info">
                            <a href="[##_article_rep_category_link_##]">📁[##_article_rep_category_##]</a>
                            <p>🕒[##_article_rep_date_##]</p>
                        </div>
                    </div>
                </s_index_article_rep>


                <!--글-->
                <s_permalink_article_rep>
                    <div class="article-header">
                        <div class="article-category" id="article-category">
                            <a href="[##_article_rep_category_link_##]">
                                << [##_article_rep_category_##]</a>
                        </div>
                        <h2 class="article-title"><a href="[##_article_rep_link_##]">[##_article_rep_title_##]</a></h2>
                        <div class="article-info">
                            <div class="article-date">🕒[##_article_rep_date_##]</div>
                            <p>[##_s_ad_isolation_##]</p>
                            <!--태그-->
                            <s_tag_label>
                                <div class="list-tag">
                                    #
                                    [##_tag_label_rep_##]
                                </div>
                            </s_tag_label>
                        </div>
                    </div>

                    <!--글 본문-->
                    <div class="article-desc">
                        [##_article_rep_desc_##]
                    </div>

                    <!--카테고리의 다른 글 보기-->

                    <!--댓글-->
                    <div class="area_reply">
                        <s_rp>
                            [##_comment_group_##]
                        </s_rp>
                    </div>

                </s_permalink_article_rep>
            </s_article_rep>

            <!--보호글-->
            <s_article_protected>
                <div class="entryProtected">
                    <h2><a href="[##_article_rep_link_##]">[##_article_rep_title_##]</a></h2>
                    <span class="date">[##_article_rep_date_##]</span>
                    <p>보호되어 있는 글입니다. 내용을 보시려면 비밀번호를 입력하세요.</p>
                    <p>
                        <label for="[##_article_password_##]">비밀번호 ::</label>
                        <input type="password" maxlength="16" id="[##_article_password_##]"
                            name="[##_article_password_##]" value=""
                            onkeydown="if (event.keyCode == 13)[##_article_dissolve_##]" />
                        <input type="button" class="submit" value="submit" onclick="[##_article_dissolve_##]" />
                    </p>
                </div>
            </s_article_protected>

            <!--태그 클라우드-->
            <s_tag>
                <h2 class="tag-cloud-title">Tag</h2>
                <s_tag_rep>
                    <ul class="tag-list">
                        <li>
                            <a href="[##_tag_link##]" class="[##_tag_name_##]">[##_tag_name_##]</a>
                        </li>
                    </ul>
                </s_tag_rep>
            </s_tag>

            <!--방명록-->
            <s_guest>
                [##_guestbook_group_##]
            </s_guest>

            <!--페이징-->
            <s_paging>
                <div class="paging">
                    <a [##_prev_page_##] class="prev-btn">
                        Prev</a>
                    <s_paging_rep>
                        <div class="page-num">
                            <a [##_paging_rep_link_##]>[##_paging_rep_link_num_##]</a>
                        </div>
                    </s_paging_rep>
                    <a [##_next_page_##] class="next-btn">
                        Next</a>
                </div>
            </s_paging>
        </div>

        <div id="right-sidebar">
            <s_sidebar>
                <s_sidebar_element>
                    <div id="inpage-navigator">

                    </div>
                </s_sidebar_element>
            </s_sidebar>
        </div>

        <footer>
            <div class="copyright">
                <p>Blog is powered by <a href="https://www.kakaocorp.com">Kakao</a>, designed by
                    <a href="https://riveroverflow.tistory.com"> Riveroverflow</a>
                </p>
            </div>
        </footer>
    </s_t3>
</body>

</html>